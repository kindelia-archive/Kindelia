!world = Litereum.genesis; !code = "\u{a}    name Bool\u{a}    name true\u{a}    name false\u{a}    name Nat\u{a}    name zero\u{a}    name succ\u{a}    name pred\u{a}    name x\u{a}    name y\u{a}    name not\u{a}    name and\u{a}    name or\u{a}    name double\u{a}    name get_count\u{a}    name inc_count\u{a}\u{a}    eval {\u{a}      #50\u{a}    } : #word\u{a}\u{a}    type Bool {\u{a}      true{}\u{a}      false{}\u{a}    }\u{a}\u{a}    type Nat {\u{a}      zero{}\u{a}      succ{pred: Nat}\u{a}    }\u{a}\u{a}    eval {\u{a}      +(#10, #20)\u{a}    } : #word\u{a}\u{a}    bond and(x: Bool, y: Bool): Bool {\u{a}      case x : Bool {\u{a}        true: y\u{a}        false: false{}\u{a}      }\u{a}    }\u{a}\u{a}    eval {\u{a}      and(true{} false{})\u{a}    } : Bool\u{a}\u{a}    bond double(x: Nat): Nat {\u{a}      case x : Nat {\u{a}        zero: zero{}\u{a}        succ: succ{succ{double(x.pred)}}\u{a}      }\u{a}    }\u{a}\u{a}    eval {\u{a}      double(succ{succ{succ{zero{}}}})\u{a}    } : Nat\u{a}\u{a}    // x is used to test if we can rebind bonds with args\u{a}    bond get_count(x: #word): #word {\u{a}      +(#0, x)\u{a}    }\u{a}\u{a}    bond inc_count(): #word {\u{a}      bind get_count {\u{a}        +(+(get_count(#0), #1), x)\u{a}      }\u{a}      #0\u{a}    }\u{a}\u{a}    eval { inc_count() } : #word\u{a}    eval { inc_count() } : #word\u{a}    eval { inc_count() } : #word\u{a}    eval { inc_count() } : #word\u{a}    eval { get_count(#100) } : #word\u{a}  "; ((((((Parser.run (List Litereum.Transaction)) (Litereum.parse.block world)) code) # (IO Unit)) (IO.print "deu ruim")) #block (((Debug.log (IO Unit)) "Block: ") # ((((((Monad.bind IO) IO.monad) Unit) Unit) (IO.print ((Litereum.show.block world) block))) # ((((((Monad.bind IO) IO.monad) Unit) Unit) (IO.print "Serialization:")) # !bits = ((Litereum.serialize.block Litereum.genesis) block); ((((((Monad.bind IO) IO.monad) Unit) Unit) (IO.print ((String.concat "- ") (Bits.hex.encode bits)))) # ((((((Monad.bind IO) IO.monad) Unit) Unit) (IO.print "")) # ((((((Monad.bind IO) IO.monad) Unit) Unit) (IO.print "Deserialization:")) # ((((Litereum.deserialize.block Litereum.genesis) bits) # (IO Unit)) #bits #block ((((((Monad.bind IO) IO.monad) Unit) Unit) (IO.print ((Litereum.show.block Litereum.genesis) block))) # (((Debug.log (IO Unit)) "Evaluation: ") # (((((Litereum.run.block world) block) # (IO Unit)) (IO.print "failed execution")) #world (IO.print "Done!"))))))))))))