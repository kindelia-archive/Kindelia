#K #V #Z #f #z #map (((map #map Z) z) #map.size #map.key #map.val #map.left #map.right !right_folded = ((((((BBT.foldr_with_key.go K) V) Z) f) z) map.right); !new_z = (((f map.key) map.val) right_folded); ((((((BBT.foldr_with_key.go K) V) Z) f) new_z) map.left))