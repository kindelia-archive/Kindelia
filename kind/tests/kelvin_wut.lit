name a
name b

name get_count
name inc_count

bond get_count(): #word {
  #0
} @inc_count

bond inc_count(): & #word {
  bind get_count {
    +(get_count(), #1)
  }
  return get_count()
}

eval {
    run a : #word = inc_count()  // should be 1
    run b : #word = inc_count()  // should be 2
    return a  // returns 2
} : & #word

eval {
    bind get_count {
      #0
    }

    run inc_count()
    let a : #word = get_count()  // should be 1
    run inc_count()
    let b : #word = get_count()  // should be 2
    return a  // returns 2
} : & #word
